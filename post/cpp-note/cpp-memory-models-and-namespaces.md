---
layout: default
title: "Memory Models and Namespaces"
categories: cpp
description: This is a note of Memory Models and Namespaces
date: 2022-08-11 +0800
permalink: /post/cpp-note/cpp-memory-models-and-namespaces/
---
## 单独编译

头文件：包含结构声明和使用这些结构的函数的原型。  
源代码文件：包含与结构有关的函数的代码。  
源代码文件：包含调用与结构相关的函数的代码。  

头文件中常包含的内容。
- 函数原型
- 使用`#define`或`const`定义的符号常量
- 结构声明
- 类声明
- 模板声明
- 内联函数


在包含头文件时，使用"coordin.h"，而不是<coodin.h>。如果文件名包含在尖括号中个，则C++编译器将在存储标准头文件的主机系统的
文件系统中查找；但如果文件名包含在双引号中，则将在标准位置查找。因此在包含自己的头文件时，应使用引号而不是尖括号。

## 内存持续性、作用域和链接性

自动存储持续性：在函数定义中声明的变量（包括函数参数）的存储持续性为自动的。

静态存储持续性：在函数定义外定义的变量和使用关键字`static`定义的变量的存储持续性都为静态。

线程存储持续性（C++11）

动态存储持续性：用`new`运算符分配的内存将一直存在，直到使用`delete`运算符将其释放或程序结束为止。

### 作用域和链接

### 自动存储连续性

### 静态持续变量

C++为静态储存持续性变量提供了3种链接性：
- 外部链接性（可在其他文件中访问）
- 内部链接性（只能在当前文件中访问）
- 无链接性（只能在当前函数或代码块中访问）

5种变量储存方式

| 存储描述 | 持续性 | 作用域 | 链接性 | 如何声明 |
| --- | --- | --- | --- | --- |
| 自动 | 自动 | 代码块 | 无 | 在代码块中 |
| 寄存器 | 自动 | 代码块 | 无 | 在代码块中,使用关键字resister |
| 静态,无链接性 | 静态 | 代码块 | 无 | 在代码块中,使用关键字static | 
| 静态, 外部链接性 | 静态 | 文件 | 外部 | 不在任何函数内 |
| 静态, 内部链接性 | 静态 | 文件 | 内部 | 不在任何函数内 |

### 静态持续性、外部链接性
链接性为外部的变量通常简称为外部变量，他们的持续性为静态，作用域为整个文件。
外部变量是在函数外部定义的，因此对所有函数而言都是外部的。

- 单定义规则
  - 定义声明(defining declaration)  
  给变量分配存储空间  
  - 引用声明(referencing declaration)  
  不给变量分配存储空间，直接引用已有的变量。  
## Contact me
- Blog -> [shijiang.tk](https://shijiang.tk)
- Email -> <ssj1595329871@qq.com>
- Github -> [sunshijiang@Github](https://github.com/sunshijiang)

